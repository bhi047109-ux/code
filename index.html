<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Key System</title>
  <!-- Auto-refresh every 3 minutes -->
  <meta http-equiv="refresh" content="180">
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin-top: 50px; }
    h1 { color: #333; }
    pre { text-align: left; margin: 20px auto; width: 80%; background: #f4f4f4; padding: 10px; border-radius: 6px; }
  </style>
</head>
<body>
  <h1>Loading system...</h1>

  <script>
    async function loadKey() {
      try {
        const response = await fetch("key.json");
        const config = await response.json();

        if (config.lockdown) {
          document.body.innerHTML = "<h1>ðŸ”’ System is in lockdown</h1>";
          return;
        }

        // Normal mode: show keys
        document.body.innerHTML = "<h1>âœ… System is active</h1><pre>" +
          JSON.stringify(config.keys, null, 2) + "</pre>";
      } catch (err) {
        document.body.innerHTML = "<h1>Error loading key.json</h1><p>" + err + "</p>";
      }
    }

    // Run on page load
    window.addEventListener("load", loadKey);

    // Also auto-refresh with JS every 3 minutes (backup to meta refresh)
    setInterval(() => {
      location.reload();
    }, 180000);
  </script>
</body>
</html>
